<div class="coverage-section">
  <h2 class="section-title">Coverage Configurator</h2>
  <p class="section-subtitle">Expandable coverage options</p>
  
  <div class="coverage-options">
    <div class="coverage-item" (click)="toggleGeneralLiability()">
      <span class="expand-icon">{{ generalLiabilityExpanded ? '⌄' : '›' }}</span>
      <span class="coverage-name">General Liability</span>
      <div class="coverage-controls" (click)="$event.stopPropagation()">
        <label class="checkbox-label">
          <input 
            type="checkbox" 
            id="general-liability-checkbox"
            data-testid="general-liability-checkbox"
            [checked]="getCoverageOption('general-liability')?.isSelected || false"
            (change)="onCoverageToggle('general-liability')"
          />
          <span class="premium-text" [class.selected]="getCoverageOption('general-liability')?.isSelected">
            ${{ getCoverageOption('general-liability')?.premium || 0 }}
          </span>
        </label>
      </div>
    </div>
    
    <div *ngIf="generalLiabilityExpanded" class="coverage-details">
      <p>General liability insurance protects your business from claims of bodily injury, property damage, and personal injury.</p>
    </div>
    
    <div class="coverage-item" (click)="toggleProperty()">
      <span class="expand-icon">{{ propertyExpanded ? '⌄' : '›' }}</span>
      <span class="coverage-name">Property</span>
      <div class="coverage-controls" (click)="$event.stopPropagation()">
        <label class="checkbox-label">
          <input 
            type="checkbox" 
            id="property-checkbox"
            data-testid="property-checkbox"
            [checked]="getCoverageOption('property')?.isSelected || false"
            (change)="onCoverageToggle('property')"
          />
          <span class="premium-text" [class.selected]="getCoverageOption('property')?.isSelected">
            ${{ getCoverageOption('property')?.premium || 0 }}
          </span>
        </label>
      </div>
    </div>
    
    <div *ngIf="propertyExpanded" class="coverage-details">
      <p>Property insurance covers your business property including buildings, equipment, inventory, and furniture against damage or theft.</p>
    </div>
    
    <div class="coverage-item" (click)="toggleAdditional()">
      <span class="expand-icon">{{ additionalExpanded ? '⌄' : '›' }}</span>
      <span class="coverage-name">Additional Coverage Options</span>
      <div class="coverage-controls" (click)="$event.stopPropagation()">
        <label class="checkbox-label">
          <input 
            type="checkbox" 
            id="additional-checkbox"
            data-testid="additional-checkbox"
            [checked]="getCoverageOption('additional')?.isSelected || false"
            (change)="onCoverageToggle('additional')"
          />
          <span class="premium-text" [class.selected]="getCoverageOption('additional')?.isSelected">
            ${{ getCoverageOption('additional')?.premium || 0 }}
          </span>
        </label>
      </div>
    </div>
    
    <div *ngIf="additionalExpanded" class="coverage-details">
      <p>Additional coverage options include cyber liability, employment practices liability, and other specialized coverages.</p>
    </div>
  </div>
</div>