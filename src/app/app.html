<div class="insurance-quote-container">
  <!-- Application Header -->
  <div class="app-header">
    <h1 class="main-title">
      {{ isExistingQuote ? 'Editing Quote #' + currentQuote?.id : 'Insurance Quote Application' }}
    </h1>
    
    <!-- Simple Message -->
    <div *ngIf="message" class="alert">{{ message }}</div>
  </div>

  <!-- Main Form Content -->
  <div class="main-content">
    <div class="left-column">
      <app-business-information></app-business-information>
      <app-coverage-configurator></app-coverage-configurator>
    </div>
    <div class="right-column">
      <app-quote-summary></app-quote-summary>
      <app-risk-rating-snapshot></app-risk-rating-snapshot>
      <app-underwriter-notes></app-underwriter-notes>
    </div>
  </div>

  <!-- Quote Actions -->
  <div class="quote-management-section">
    <h2 class="section-title">Quote Actions</h2>
    
    <div class="action-buttons">
      <button (click)="saveQuote()" style="background: green; color: white; padding: 10px;">
        {{ isExistingQuote ? 'Update Quote' : 'Save Quote' }}
      </button>
      <button (click)="newQuote()" style="background: blue; color: white; padding: 10px;">New Quote</button>
      <button (click)="toggleQuotes()" style="background: purple; color: white; padding: 10px;">{{ showQuotes ? 'Hide' : 'List' }} Quotes</button>
    </div>
    
    
    <!-- Saved Quotes List -->
    <div *ngIf="showQuotes">
      <h3>Your Saved Quotes ({{ quotes.length }})</h3>
      <div *ngIf="quotes.length === 0" class="no-quotes-message">
        <p>No quotes saved yet. Create and save your first quote to see it listed here.</p>
      </div>
      <div *ngFor="let quote of quotes" (click)="editQuote(quote)" class="quote-item">
        <div class="quote-header">
          <strong>Quote #{{ quote.id }}</strong>
          <span class="quote-status">{{ quote.status }}</span>
        </div>
        <div class="quote-details">
          <p><strong>Business:</strong> {{ quote.businessInformation?.name || 'Unnamed Business' }}</p>
          <p><strong>Type:</strong> {{ quote.businessInformation?.businessType || 'Not specified' }}</p>
          <p><strong>Premium:</strong> ${{ quote.totalPremium || 0 }}</p>
        </div>
        <small class="quote-hint">Click to edit this quote</small>
      </div>
    </div>
  </div>
</div>